<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="static/styles.css">
    <title>Add Book</title>
  </head>
  <body>
  <h1>Add Book</h1>

  <form action="/add_book" method="POST">
   <label for="title">Book Title</label>
    <input type="text" id="title" name="title" required><br><br>

  <label for="year_of_publication">Publication Year</label>
    <input type="text" id="year_of_publication" name="year_of_publication" required><br><br>
  <label for="isbn">ISBN</label>
    <input type="text" id="isbn" name="isbn"><br><br>

    <label for="drop-authors">Choose an Author</label>
      <select name="drop-authors" id="drop-authors">
        <option value="" disabled selected>--Choose Author--</option>
        <!-- Jinja to create dropdown menu of all authors in the database -->
        {% for author in authors %}
          <option value="{{ author.id }}">{{ author.name }}</option>
        {% endfor %}
      </select>
    <div class="button-container">
      <input type="submit" value="Add Book">
    </div>
  </form>

    <!-- Get Flash Messages-->
    <div class="flash-message-area">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <ul>
            {% for category, message in messages %}
              <li class="{{ category }}">{{ messages }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
    </div>
    <div>
      <p><a href="/add_author">Click here</a> to add an Author</p>
    </div>

  </body>
</html>
